---
title: Onset Effects
description: "Guitar effects augmented by onset detection"
image: hardware_top_1.jpg
date: 2021-02
status: publish
featured: false
tags:
 - Music Information Retrieval
 - Guitar Effect
 - C++
 - Bachelor
---

In my bachlor thesis I researched the use for onset detection in guitar pedals. I looked into which onset detectors work well on electric guitars in a real-time environment. Also, I looked at the the creative possibilities that adding an onset detector to a guitar effect provides.

I found multiple possible configurations. I presented these configurations to professionals in different music-related fields. The results were quite mixed, but one configuration had a clear preference: the swell mode. The following audio clip is a demo of this swell mode.

::Audio-mp3
---
file: /project/onseteffects/swellmode-autosweller-reverb.mp3
---
::

The swell mode fades an effect in and out based on the onset detection. So, if a note of the guitar is sensed by the detector it will start a swell. Effectively changing the dry-wet balance automatically.

::Gallery
---
path: /project/onseteffects/
images:
- file: swellmode-parameter-diagram.png
  description: 
- file: swellmode-volume-diagram.png
  description: 
---
::

---

After my Bachelor I finished my bachelor, I continued to develop the onset detector and I created a hardware prototype of this effect.

::Gallery
---
path: /project/onseteffects/
images: 
  - file: hardware_arduino_test.jpg
    description: An initial test of the digital potentiometer with an Arduino to test the concept
  - file: hardware_teensy_test.jpg
    description: I created an ADC circuit to send the guitar signal into the microcontroller. I switched the Arduino for a Teensy as they are faster and better support audio. This setup contains the Fx-loop and in- and output.
  - file: hardware_teensy_test_w_control.jpg
    description: Testing the setup with some potentiometers to control the attack and decay of the envelopes generated by the Teensy.
  - file: hardware_soldering.jpg
    description: The breadboard prototype worked well, so I started on making a more permanent prototype on perfboard.
  - file: hardware_soldered_audio_only.jpg
    description: The completed audio circuit
  - file: hardware_soldered_test.jpg
    description: Testing the audio circuit
  - file: hardware_top_2.jpg
    description: The finished prototype with UI
---
::
